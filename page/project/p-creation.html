<!doctype html>
<!--
* Tabler - Premium and Open Source dashboard template with responsive and high quality UI.
* @version 1.0.0-beta19
* @link https://tabler.io
* Copyright 2018-2023 The Tabler Authors
* Copyright 2018-2023 codecalm.net Paweł Kuna
* Licensed under MIT (https://github.com/tabler/tabler/blob/master/LICENSE)
-->
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>新增职位</title>
    <script src="../../static/js/tabler.min.js"></script>
    <link rel="stylesheet" href="../../static/css/tabler.min.css">
    <link rel="stylesheet" href="../../static/css/base.css">
    <link rel="stylesheet" href="../../static/css/tabler-vendors.min.css">
    <link rel="icon" href="../../static/img/favicon.ico" type="image/x-icon" />
    <script src="../../static/js/jquery.min.js"></script>
    <script src="../../static/js/base.js?9527"></script>
    <script src="../../static/js/watermark.js"></script>
    <script src="../../static/js/citycode.js" ></script>
    <script src="../../static/js/pg/pro/Position.js"></script>
    <script src="../../static/js/pg/pro/add.js"></script>
    <script>
      function dark(){
        let body = document.getElementById('webBody')
        body.setAttribute("data-bs-theme","dark")
      }

      function light(){
        let body = document.getElementById('webBody')
        body.setAttribute("data-bs-theme","")
      }

    </script>

  </head>
  <body  id="webBody" class="layout-fluid">
    <div class="page">


      
      
      <aside class="navbar navbar-vertical navbar-expand-lg"   >
        <div class="container-fluid">
     
          <h1 class="navbar-brand navbar-brand-autodark">
            <a href="#" >
              <img src="http://admin.fsfhr.com/banner.svg" width="110" height="32" alt="faithful" class="navbar-brand-image">
            </a>
          </h1>

          <div class="collapse navbar-collapse"   id="sidebar-menu">
            <ul class="navbar-nav pt-lg-3" id="menu">

              </li>
            </ul>
          </div>

        
        </div>
      </aside>
































































































      <header class="navbar navbar-expand-md d-print-none d-none d-lg-flex fixed-top">
        <div class="container-xl">



          <h1 class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal p-0 pe-md-6" >
            
          </h1>
          <div class="navbar-nav flex-row order-md-last">
            <div class="nav-item d-none d-md-flex me-3">
              <div class="btn-list">
                <div class="input-icon">
                    <span class="input-icon-addon">
                      <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path><path d="M21 21l-6 -6"></path></svg>
                    </span>
                  <input type="text" value="" class="form-control" id="indexsearch" placeholder="客户名/人选名/项目名" aria-label="Search in website" data-listener-added_8ff64168="true">
                </div>
                <a onclick="indexSearch()" class="btn btn-blue" target="_blank" rel="noreferrer">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path></svg>
                  查询
                </a>
              </div>
            </div>
            <div class="d-none d-md-flex">
              <a   onclick="dark()" class="nav-link px-0 hide-theme-dark" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Enable dark mode" data-bs-original-title="Enable dark mode">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path></svg>
              </a>
              <a onclick="light()" class="nav-link px-0 hide-theme-light" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Enable light mode" data-bs-original-title="Enable light mode">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path><path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path></svg>
              </a>
              <div class="nav-item dropdown d-none d-md-flex me-3">
                <a href="#" class="nav-link px-0" data-bs-toggle="dropdown" tabindex="-1" aria-label="Show notifications" onclick="usermessage()" data-bs-auto-close="outside">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"></path><path d="M9 17v1a3 3 0 0 0 6 0v-1"></path></svg>
                  <span class="badge bg-red"></span>
                </a>
                <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-end dropdown-menu-card">
                  <div class="card">
                    <div class="card-header">
                      <ul class="nav nav-tabs card-header-tabs" data-bs-toggle="tabs" role="tablist">
                        <li class="nav-item" role="presentation">
                          <a href="#" class="nav-link active" data-bs-toggle="tab" aria-selected="true" role="tab" onclick="usermessage()">信箱</a>
                        </li>
                        <li class="nav-item" role="presentation">
                          <a href="#" class="nav-link" data-bs-toggle="tab" aria-selected="false" tabindex="-1" role="tab" onclick="usertrip()">行程</a>
                        </li>
                      </ul>
                    </div>
                    <div class="list-group list-group-flush list-group-hoverable">
                      <div id="messagediv">
                        <div class="list-group-item divide-y"  id="msgstr"  >
                          <h3></h3>
                        </div>
                      </div>                      
                      <div id="tripdiv">
                        <div class="list-group-item divide-y" id="tripstr">
                          <h3></h3>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="nav-item dropdown">
              <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-bs-toggle="dropdown" aria-label="Open user menu">
                <div class="d-none d-xl-block ps-2">
                  <div id="userName">无</div>
                  <div class="mt-1 small text-muted" id="userLevel">无</div>
                </div>
              </a>
              <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                <a href="#" class="dropdown-item">个人中心</a>
                <a href="../employ/password-manager.html" class="dropdown-item">修改密码</a>
                <div class="dropdown-divider"></div>
                <a id="logOut" class="dropdown-item">退出</a>
              </div>
            </div>
          </div>
        </div>
      </header>



      <div class="page-wrapper">


        <div id="messageContainer" class="message-container">
          <!-- Messages will be added here dynamically -->
        </div>
  
        <!-- Page header -->
        <div class="page-header d-print-none">
        </div>




        <!-- Page body -->
        <div class="page-body container-xl">





          <div class="container-xl" >


            <div class="row row-deck row-cards">




              <div class="col-lg-12">
                <div class="row row-cards">
                  <div class="col-6">
                    <form class="card">
                      <div class="card-header">
                        <div class="col">
                          
                        <h3 class="card-title">基本信息</h3>
                        </div>

                        <div class="col-auto ms-auto d-print-none">
                          <div class="d-flex">
                            <div class="me-3">
                              <a  class="btn btn-info">
                                清空
                              </a>
                            </div>
                            <div class="me-3">
                              <a  class="btn btn-success">
                                保存草稿
                              </a>
                             </div>
                            <a class="btn btn-primary">发布</a>
                          </div>
                        </div>
                      </div>
                      <div class="card-body">
                        
                        <div class="row row-cards">
                          <div class="col-md-10">
                            <div class="mb-3 row">
                              <label class="col-3 form-label required wordbold" >客户名称</label>
                              <div class="col">
                                <select type="text" class="form-select" placeholder="查询客户" id="customerMember" autocomplete="off" name="customerId">
                                </select>
                                <div class="invalid-feedback">不能为空！</div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-10">
                            <div class="mb-3 row">
                              <label class="col-3 form-label required wordbold" >职位名称</label>
                              <div class="col">
                                <input type="text" class="form-control" placeholder="请输入职位名称" name="name" autocomplete="off">
                                <div class="invalid-feedback">不能为空！</div>
                              </div>
                              
                            </div>
                          </div>
               
                          
                          <div class="col-md-10">
                            <div class="mb-3 row">
                              <label class="form-label col-3 wordbold required" >职位类别</label>
                              <div class="nav-item dropdown col" >
                                <input type="text" class="form-select dropdown-toggle" data-bs-toggle="dropdown" data-bs-auto-close="outside" role="button" aria-expanded="true" readonly name="job" id="jobinput">
                                <div class="invalid-feedback">不能为空！</div>
                                <div class="dropdown-menu " id="jobmenu" data-bs-popper="static" >
                                  <div class="dropdown-menu-columns">
                                    <div class="dropdown-menu-column" id="jobdiv">



                                  
                                    


                                    </div>
                                  
                                  
                                
                                
                                </div>
                                </div>
                              </div>
                              
                            </div>
                          </div>
                          <div class="col-md-10">
                            <div class="mb-3 row">
                              <label class="col-3 form-label wordbold" >工作地点</label>
                              <div class="col">
                                <select id="city-select" class="tom-select" multiple autocomplete="off"></select>
                              </div>
                              
                            </div>
                          </div>

                          <div class="col-md-10">
                            <div class="mb-3 row">
                              <label class="col-3 form-label  wordbold" >职位年薪</label>
                              <div class="col ">
                                <div class="input-group input-group-flat">
                                  <input type="text" class="form-control" name="salaryStart" autocomplete="off">
                                  <span class="input-group-text">
                                    <kbd>万元</kbd>
                                  </span>
                                </div>
                            
                              </div>
                              <div class="col ">
                                <div class="input-group input-group-flat">
                                  <input type="text" class="form-control" name="salaryEnd" autocomplete="off">
                                  <span class="input-group-text">
                                    <kbd>万元</kbd>
                                  </span>
                                </div>
                               
                              </div>
                              
                            </div>
                          </div>
                 
                          <div class="col-md-10">
                            <div class="mb-3 row">
                              <label class="col-3 form-label  wordbold" >归属部门</label>
                              <div class="col">
                                <input type="text" class="form-control" placeholder="如销售部、研发部等" name="department" autocomplete="off">
                              </div>
                              
                            </div>
                          </div>
                          <div class="col-md-10">
                            <div class="mb-3 row">
                              <label class="col-3 form-label  wordbold" >招聘数量
                              </label>
                              <div class="col">
                                <input type="number" class="form-control" value="0"  name="recruitNum" autocomplete="off">
                                <small class="form-hint">0为若干</small>
                              </div>
                              
                            </div>
                          </div>

                          <div class="col-md-10">
                            <div class="mb-3 row">
                              <label class="col-3 form-label  wordbold" >汇报对象</label>
                              <div class="col">
                                <input type="text" class="form-control" name="reportName" autocomplete="off">
                              </div>
                              
                            </div>
                          </div>
                          
                        
                        </div>
                      </div>
                      <div class="card-footer text-end">
                          <a  class="btn btn-success">
                            保存草稿
                          </a>
                          <a class="btn btn-primary">发布</a>
                      
                      </div>
                    </form>
                  </div>






                  <div class="col-6 ">


                    <div class="row row-cards">
                      <div class="card">
                        <div class="card-header">
                          <h1 class="card-title">职位要求</h1>
                        </div>
                        <div class="card-body">
                          <div class="row row-cards">
                            <div class="col-md-10">
                              <div class="mb-3 row">
                                <label class="col-3 form-label required wordbold" >学历要求</label>
                                <div class="col">
                                  <select class="form-select " id="state" name="requireEdu">
                                    <option selected value="">不限</option>
                                    <option value="3">大专</option>
                                    <option value="4">本科</option>
                                    <option value="5">研究生</option>
                                    <option value="6">博士</option>
                                    <option value="7">博士后</option>
                                  </select>
                                </div>
                              </div>
                            </div>
                            
                            <div class="col-md-10">
                              <div class="mb-3 row">
                                <label class="col-3 form-label  wordbold" >年龄要求</label>
                                <div class="col">
                                  <input type="number" class="form-control" placeholder="起始年龄" name="requireAgeS" >
                                 
                                </div>
                                <div class="col">
                                  <input type="number" class="form-control" placeholder="结束年龄" name="requireAgeE" >
                                 
                                </div>
                                <div class="col">
                                  <input type="checkbox" class="form-check-input"  name="requireAgeState" value="0"><!-- 如果选中不限则起始结束年龄为0 -->
                                  <span>不限</span>
                                </div>
                                
                                
                              </div>
                            </div>
                            <div class="col-md-10">
                              <div class="mb-3 row">
                                <label class="col-3 form-label  wordbold" >工作年限</label>
                                <div class="col">
                                  <select class="form-select " id="state" name="experience">
                                    <option selected value="不限">不限</option>
                                    <option value="3年以下">3年以下</option>
                                    <option value="3-5年">3-5年</option>
                                    <option value="5-10年">5-10年</option>
                                    <option value="10年以上">10年以上</option>
                                  </select>
                                </div>
                                
                              </div>
                            </div>
                 
                     
           
                            <div class="col-md-10">
                              <div class="mb-3 row">
                                <label class="col-3 form-label required  wordbold" >性别要求</label>
                                <div class="col">
                                  <label class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="requireGender" value="1" >
                                    <span class="form-check-label">男</span>
                                  </label>
                                  <label class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="requireGender" value="2" >
                                    <span class="form-check-label">女</span>
                                  </label>
                                  <label class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="requireGender" value="0" checked>
                                    <span class="form-check-label">不限</span>
                                  </label>
                                </div>
                                
                                
                              </div>
                            </div>

                               
           
                            <div class="col-md-10">
                              <div class="mb-3 row">
                                <label class="col-3 form-label required  wordbold" >是否统招</label>
                                <div class="col">
                                  <label class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="requireAllTime" value="1" >
                                    <span class="form-check-label">是</span>
                                  </label>
                                  <label class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="requireAllTime"  value="0" checked>
                                    <span class="form-check-label">不限制</span>
                                  </label>
                                </div>
                                
                              </div>
                            </div>
                   
                           
                            <div class="col-md-10">
                              <div class="mb-3 row">
                                <label class="col-3 form-label  wordbold required" >职位描述</label>
                                <div class="col">
                                  <textarea rows="3" class="form-control" name="details"></textarea>
                                  <div class="invalid-feedback">不能为空！</div>
                                </div>
                                
                              </div>
                            </div>
                            <input type="hidden" id="projectId"  >
                            
                          
                          </div>
                        </div>
                 
                      </div>

                      <div class="card">
                        <div class="card-header">
                          <h3 class="card-title">添加团队成员</h3>
                        </div>
                        <div class="card-body">
                          <div class="row row-cards">
                            
                            <div class="mb-3 row">
                              
                              <div class="col">
                                <select type="text" class="form-select" placeholder="输入名称添加团队成员" id="manageMember" multiple  autocomplete="off" >
                                </select>
                                <small class="form-hint">&nbsp;不添加默认为自己</small>
                              </div>
                              
                            </div>
                                       
             
                          </div>
                        </div>
                 
                      </div>





                      
















                    </div>


                    








































                    
                  </div>












                 



























                </div>
              </div>



              












              












            </div>



















            
            



            

            
          </div>
        </div>
        
   
      

        <script>
          let citys;
          let jobs;
          let manageMember;
          let customerMember;
      document.addEventListener('DOMContentLoaded', function() {
            var citySelect = document.getElementById('city-select');

            // 确保 citycode.js 已经加载并且 cn 对象存在
            if (typeof cn !== 'undefined') {
                var options = [];
                var optgroup = [];


                var directCities = cn.getProvinces().filter(function(province) {
            // 假设直辖市的 province.type 属性为 'city' 或者根据其他条件判断
                return province.type === 'city'; // 这个判断条件需要根据 citycode.js 的实际数据结构调整
                });
                directCities.forEach(function(city) {
                    options.push({
                      class: '直辖市',
                        value: city.code,
                        text: city.name,
                        group: '直辖市' // 为直辖市创建一个虚拟的省份组
                    });
                });

                var provinces = cn.getProvinces();
                provinces.forEach(function(province) {
                    var cities = cn.getPrefectures(province.code);
                    cities.forEach(function(city) {
                        options.push({
                            class:province.name,
                            value:city.name,
                            text: city.name,
                            group: province.name
                        });
                    
                        
                    });
                    options.push({
                            class:province.name,
                            value:province.name,
                            text: province.name,
                            group: province.name
                        });
                    optgroup.push({
                            label:province.name,
                            value:province.name,
                            label_scientific:province.alias
                      });
                });



                citys = new TomSelect(citySelect, {
                  options: options,
                    placeholder: '选择城市...',
                    multiple: true,
                    optgroupField: 'class',
                    optgroups:optgroup,
                    maxOptions:null,
                    allowEmptyOption: false,
                    duplicates: true,
                    labelField: 'text',
                    valueField: 'value',
                    searchField: ['text'],
                    render: {
                    optgroup_header: function(data, escape) {
                      return '<div class="optgroup-header">' + escape(data.label) + ' <span class="scientific">' + escape(data.label_scientific) + '</span></div>';
                    }
                  }
                    // 其他配置...
                });
            } else {
                console.error('citycode.js is not loaded correctly!');
            }


            manageMember= new TomSelect('#manageMember',{
              valueField: 'userId',
              labelField: 'name',
              searchField: 'name',
              // fetch remote data
              load: function(query, callback) {

                  const options = {
                      method: 'POST',
                      headers: {
                      'Content-Type': 'application/json',
                      'token':localStorage.getItem('token')
                      },
                      body: JSON.stringify({ 'name': query }),
                      };

                      var url = baseUri+'/customer/ulfq';
                  fetch(url,options)
                      .then(response => response.json())
                      .then(json => {
                        var item = json.data.list;
              
                          callback(item);
                      }).catch((error)=>{
                          callback();
                      });

              },
              // custom rendering functions for options and items
              render: {
                  option: function(item, escape) {
              return `<div><span class="dropdown-item-indicator"  >
              </span>${ escape(item.name) }</div>`;
          
                      
                  },
                  item: function(item, escape) {
              return `<div><span class="dropdown-item-indicator"  >
              </span>${ escape(item.name) }</div>`;
          
                  }
              },
              onInitialize: function() {
                  this.clearOptions(); // 清空初始选项
                  this.load(''); // 传入空字符串以加载所有选项或基于默认查询
              },
          });



         
          customerMember= new TomSelect('#customerMember',{
              valueField: 'customerId',
              labelField: 'name',
              searchField: 'name',
              // fetch remote data
              load: function(query, callback) {

                  const options = {
                      method: 'POST',
                      headers: {
                      'Content-Type': 'application/json',
                      'token':localStorage.getItem('token')
                      },
                      body: JSON.stringify({ 'name': query }),
                      };

                      var url = baseUri+'/project/selectCustomerListForProject';
                  fetch(url,options)
                      .then(response => response.json())
                      .then(json => {
                        var item = json.data.list;
              
                          callback(item);
                      }).catch((error)=>{
                          callback();
                      });

              },
              // custom rendering functions for options and items
              render: {
                  option: function(item, escape) {
              return `<div><span class="dropdown-item-indicator"  >
              </span>${ escape(item.name) }</div>`;
          
                      
                  },
                  item: function(item, escape) {
              return `<div><span class="dropdown-item-indicator"  >
              </span>${ escape(item.name) }</div>`;
          
                  }
              },
              onInitialize: function() {
                  this.clearOptions(); // 清空初始选项
                  this.load(''); // 传入空字符串以加载所有选项或基于默认查询
              },
          });



        });

        </script>

        

        <script src="../../static/js/tom-select.base.min.js" ></script>

       
        <footer class="footer footer-transparent d-print-none">
          <div class="container-xl">
            <div class="row text-center align-items-center flex-row-reverse">
              <div class="col-12">
              <!-- <div class="col-12 col-lg-auto mt-3 mt-lg-0 text-center "> -->
                <ul class="list-inline list-inline-dots mb-0">
                  <li class="list-inline-item">
                    Copyright &copy; 2021  

                    <a href="#" class="link-secondary"> 费思福(成都)人力资源咨询有限公司 </a>
                  
                  </li>
                  <li class="list-inline-item">
                    蜀ICP备2021005893号-2
             
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </footer>
      </div>
    </div>
    
  </body>
</html>